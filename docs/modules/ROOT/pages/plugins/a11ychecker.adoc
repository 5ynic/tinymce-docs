:rootDir: ../
:partialsDir: {rootDir}partials/
include::{rootDir}_attributes.adoc[]
= Accessibility Checker plugin
:description: Checks the contents of the editor for WCAG & Section 508 accessibility problems.
:keywords: a11y accessibility WCAG
:title_nav: Accessibility Checker

{premiumplugin}

The `a11ychecker` premium plugin enables you to check the HTML for various WCAG & Section 508 accessibility problems. It has an auto repair feature that lets a user fix identified problems.

[[example]]
===== Example:

[source,js]
----
tinymce.init({
    selector: "textarea",
    plugins: "a11ychecker",
    toolbar: "a11ycheck"
});
----

[[rules]]
== Rules

These are the various rules that are checked

[[D1]]
=== Usage of paragraphs as headings

*Rule info:* This rule checks that you aren't using `p` tags instead of `h1`-`h6` tags for heading content. Not using correct heading markup will make it more difficult for assistive technologies to visually represent and navigate through your content.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H42[Link to specification].

[[D2]]
=== Sequential headings

*Rule info:* This rule checks that headings are used sequentially, meaning that an `h1` heading should be followed by an `h2` heading, a `h4` heading should be followed by an `h5` heading and so on. You should never skip a level, like following an `h3` heading with an `h6` heading. Using sequential links will make it easier for assistive technology to parse your content.

[[D3]]
=== Adjacent links

*Rule info:* This rule checks that links next to other links do not have the same href. For example if you have an image link and a text link with the same href they should be contained within the same `a` element and not in two different `a` elements. If the image and the text link are put in two separate elements it can be confusing for users of screen readers and other assistive technologies.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H2[Link to specification].

[[D4O]]
=== Ordered list structure

*Rule info:* This rule checks that an `ol` element is used for ordered lists. Do not use paragraphs beginning with numbers or roman numerals instead of an actual `ol` element containing `li` items. This is to simplify navigation and parsing of the content for users of assistive technologies.

[[D4U]]
=== Unordered list structure

*Rule info:* This rule checks that a `ul` element is used for unordered lists. Do not use paragraphs beginning with `*` or `-` or some similar character instead of an actual `ol` element containing `li` items. This is to simplify navigation and parsing of the content for users of assistive technologies.

[[D5]]
=== Contrast ratio of the text [[D5A]] [[D5B]]

*Rule info:* This rule checks that the contrast ratio of the text is above the specified values (4.5:1 for normal text and 3:1 for large text). Text with a low contrast ratio is hard to read, especially for users with an impaired vision.

https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html[Link to specification].

[[I1]]
=== Image ALT text

*Rule info:* This rule checks that all images have an alt text so screen readers and other assistive technologies can correctly present the content to your users that can't see the images visually.

[[I2]]
=== Alt text filename

*Rule info:* This rule checks that the alt text of you image isn't just the same as the filename of the image.

[[T1]]
=== Table caption

*Rule info:* This rule checks that all `table` elements have a caption that describes the data inside of the table to simplify parsing and navigation of the content for users of assistive technologies.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H39[Link to specification].

[[T2]]
=== Complex table summary

*Rule info:* This rule checks that all complex tables must have a `summary` attribute explaining to users of assistive technologies how to navigate through the data inside of the table. See the specification linked below for examples.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H73[Link to specification].

[[T3]]
=== Table caption and summary

*Rule info:* This rule checks that the table caption and summary does not have the same text content. The caption should explain *what* the table is about while the summary should explain *how* to navigate the data inside of the table.

[[T4A]]
=== Table markup

*Rule info:* This rule checks that all `tables` contain both `td` and `th` elements.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H51[Link to specification].

[[T4B]]
=== Table headers

*Rule info:* This rule checks that all `table` elements contain at lease one table header - `th` - element.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/F91[Link to specification].

[[T4C]]
=== Table heading scope

*Rule info:* This rule checks that all table heading - `th` - elements has a `scope` attribute clarifying what scope the heading has inside of the `table`. The allowed values are `row`, `col`, `rowgroup`, and `colgroup`. This is important for users of assistive technologies to be able to parse your table data.

https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H63[Link to specification].

[[H93]]
=== IDs must be unique

*Rule info:* This rule checks that all `id` attributes are unique in the editor. Duplicate `id` attributes are known to cause problems for assistive technologies when they are trying to parse content.

https://www.w3.org/TR/WCAG20-TECHS/H93.html[Link to specification].

[[options]]
== Options

:includedSection: a11yPlugin
include::{partialsDir}configuration/a11y_advanced_options.adoc[leveloffset=+1]
:includedSection: false

[[a11ychecker_allow_decorative_images]]
=== `a11ychecker_allow_decorative_images`

This option sets whether the Accessibility Checker should allow decorative images. When this option is set to `true`, a decorative image must have *both*:

* An empty alternative text attribute.
* The `role="presentation"` attribute.

For example:

[source,html]
----
<img src="my-image.png" role="presentation" alt="" />
----

If `a11ychecker_allow_decorative_images` is set to `true`, the Accessibility Checker will present an error when:

* An image does not have the alternative text attribute (`alt`).
* An image has an empty alternative text attribute, but is missing the `role="presentation"` attribute.
* An image has alternative text and a conflicting `role="presentation"` attribute.

If `a11ychecker_allow_decorative_images` is set to `false`, the Accessibility Checker will present an error when:

* An image does not have the alternative text attribute (`alt`).
* An image has an empty alternative text attribute.
* An image has the `role="presentation"` attribute.

NOTE: If <<a11y_advanced_options,`a11y_advanced_options`>> is set to `true`, `a11ychecker_allow_decorative_images` will default to `true`.

*Type:* `boolean`

*Default value:* `false`

*Possible Values:* `true`, `false`

[[example-a11ychecker_allow_decorative_images]]
==== Example: a11ychecker_allow_decorative_images

[source,js]
----
tinymce.init({
  selector: "textarea",
  plugins: "a11ychecker",
  toolbar: "a11ycheck",
  a11ychecker_allow_decorative_images: true
});
----

[[a11ychecker_html_version]]
=== `a11ychecker_html_version`

This configuration option sets the HTML version to use when checking issues.

For example, setting the version to HTML 4 will trigger the rule "Complex tables should have summaries" as summary is a valid attribute and is required for tables, however in HTML 5 the attribute is deprecated, so the rule won't be triggered.

*Type:* `String`

*Default value:* `html4`

*Possible Values:* `html4`, `html5`

[[example-a11ychecker_html_version]]
==== Example: a11ychecker_html_version

[source,js]
----
tinymce.init({
  selector: "textarea",
  plugins: "a11ychecker",
  toolbar: "a11ycheck",
  a11ychecker_html_version: 'html5'
});
----

[[a11ychecker_level]]
=== `a11ychecker_level`

This configuration option sets the https://www.w3.org/TR/WCAG20/#conformance[WCAG level] to use when checking issues.

For example, the "Text must have a contrast ratio of at least ..." rule when using *AA* will trigger when the contrast ratio is less than 4.5:1, however when using *AAA* the rule will trigger when the ratio is less than 7.0:1.

*Type:* `String`

*Default value:* `aa`

*Possible Values:* `a`, `aa`, `aaa`

[[example-a11ychecker_level]]
==== Example: a11ychecker_level

[source,js]
----
tinymce.init({
  selector: "textarea",
  plugins: "a11ychecker",
  toolbar: "a11ycheck",
  a11ychecker_level: 'aaa'
});
----

[[api]]
== API

Accessibility Checker exposes couple of methods that can be called directly.

[[toggleaudit]]
=== `toggleaudit()`

Triggers accessibility dialog with the results of the audit and options to correct the problems, if any.

[[example-toggleaudit]]
==== Example: toggleaudit()

[source,js]
----
editor.plugins.a11ychecker.toggleaudit();
----

[[getreport]]
=== `getReport()`

Conducts accessibility audit and reports about the results without triggering the dialog. The report represents an array of issues, each of which has details about:

* *severity* - _severity of the issue, might be either - info, warning or error_
* *description* - _brief description of the issue_
* *url* - _URL of the details page at W3 dedicated specifically to the given issue_
* *element* - _DOM element having the issue_

[discrete#example-getreport]
===== Example: getReport()

[source,js]
----
var issues = editor.plugins.a11ychecker.getReport();
----
