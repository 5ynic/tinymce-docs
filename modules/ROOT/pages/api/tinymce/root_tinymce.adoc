= tinymce

TinyMCE core class.

[[properties]]
== Properties

[cols="1,1,2,1",options="header",]
|===
|name |type |summary |defined by
|$ |link:{rootDir}api/tinymce.dom/tinymce.dom.domquery.html[`+tinymce.dom.DomQuery+`] |Dom query instance. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|DOM |link:{rootDir}api/tinymce.dom/tinymce.dom.domutils.html[`+tinymce.dom.DOMUtils+`] |Global DOM instance. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|PluginManager |link:{rootDir}api/tinymce/tinymce.addonmanager.html[`+tinymce.AddOnManager+`] |Global PluginManager instance. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|ScriptLoader |link:{rootDir}api/tinymce.dom/tinymce.dom.scriptloader.html[`+tinymce.dom.ScriptLoader+`] |Global ScriptLoader instance. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|ThemeManager |link:{rootDir}api/tinymce/tinymce.addonmanager.html[`+tinymce.AddOnManager+`] | |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|activeEditor |link:{rootDir}api/tinymce/tinymce.editor.html[`+tinymce.Editor+`] |Currently active editor instance. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|baseURI |link:{rootDir}api/tinymce.util/tinymce.util.uri.html[`+tinymce.util.URI+`] |Absolute baseURI for the installation path of TinyMCE. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|baseURL |`+String+` |Base URL where the root directory if TinyMCE is located. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|documentBaseURL |`+String+` |Document base URL where the current document is located. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|editors |`+Object+` |Collection of editor instances. Deprecated use tinymce.get() instead. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|i18n |`+Object+` |Collection of language pack data. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|majorVersion |`+String+` |Major version of TinyMCE build. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|minorVersion |`+String+` |Minor version of TinyMCE build. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|releaseDate |`+String+` |Release date of TinyMCE build. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|suffix |`+String+` |Current suffix to add to each plugin/theme that gets loaded for example ".min". |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|===

[[methods]]
== Methods

[cols="1,3,1",options="header",]
|===
|name |summary |defined by
|link:#add[add()] |Adds an editor instance to the editor collection. This will also set it as the active editor. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#addi18n[addI18n()] |Adds a language pack, this gets called by the loaded language files like en.js. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#create[create()] |Creates a class, subclass or static singleton. More details on this method can be found in the Wiki. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#createeditor[createEditor()] |Creates an editor instance and adds it to the EditorManager collection. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#createns[createNS()] |Creates a namespace on a specific object. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#each[each()] |Performs an iteration of all items in a collection such as an object or array. This method will execure the callback function for each item in the collection, if the callback returns false the iteration will terminate. The callback has the following format: cb(value, key_or_index). |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#execcommand[execCommand()] |Executes a specific command on the currently active editor. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#explode[explode()] |Splits a string but removes the whitespace before and after each value. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#fire[fire()] |Fires the specified event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#get[get()] |Returns a editor instance by id. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#grep[grep()] |Filters out items from the input array by calling the specified function for each item. If the function returns false the item will be excluded if it returns true it will be included. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#haseventlisteners[hasEventListeners()] |Returns true/false if the object has a event of the specified name. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#inarray[inArray()] |Returns an index of the item or -1 if item is not present in the array. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#init[init()] |Initializes a set of editors. This method will create editors based on various settings. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#is[is()] |Checks if a object is of a specific type for example an array. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#isarray[isArray()] |Returns true/false if the object is an array or not. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#makemap[makeMap()] |Makes a name/object map out of an array with names. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#map[map()] |Creates a new array by the return value of each iteration function call. This enables you to convert one array list into another. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#off[off()] |Unbinds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#on[on()] |Binds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#once[once()] |Bind the event callback and once it fires the callback is removed. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#overridedefaults[overrideDefaults()] |Overrides the default settings for editor instances. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#remove[remove()] |Removes a editor or editors form page. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#resolve[resolve()] |Resolves a string and returns the object from a specific structure. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#setactive[setActive()] |Sets the active editor instance and fires the deactivate/activate events. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#toarray[toArray()] |Converts the specified object into a real JavaScript array. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#translate[translate()] |Translates the specified string using the language pack items. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#triggersave[triggerSave()] |Calls the save method on all editor instances in the collection. This can be useful when a form is to be submitted. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#trim[trim()] |Removes whitespace from the beginning and end of a string. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|link:#walk[walk()] |Executed the specified function for each item in a object tree. |link:{rootDir}api/tinymce/root_tinymce.html[tinymce]
|===

== Methods

[[add]]
=== add

add(editor:tinymce.Editor):tinymce.Editor

Adds an editor instance to the editor collection. This will also set it as the active editor.

[[parameters]]
==== Parameters

* `+editor+` link:{rootDir}api/tinymce/tinymce.editor.html[`+(tinymce.Editor)+`] - Editor instance to add to the collection.

[[return-value]]
==== Return value
anchor:returnvalue[historical anchor]

* link:{rootDir}api/tinymce/tinymce.editor.html[`+tinymce.Editor+`] - The same instance that got passed in.

[[addi18n]]
=== addI18n

addI18n(code:String, items:Object)

Adds a language pack, this gets called by the loaded language files like en.js.

==== Parameters

* `+code+` `+(String)+` - Optional language code.
* `+items+` `+(Object)+` - Name/value object with translations.

[[create]]
=== create

create(s:String, p:Object, root:Object)

Creates a class, subclass or static singleton. More details on this method can be found in the Wiki.

[[examples]]
==== Examples

[source,js]
----
// Creates a basic class
tinymce.create('tinymce.somepackage.SomeClass', {
    SomeClass: function() {
        // Class constructor
    },

    method: function() {
        // Some method
    }
});

// Creates a basic subclass class
tinymce.create('tinymce.somepackage.SomeSubClass:tinymce.somepackage.SomeClass', {
    SomeSubClass: function() {
        // Class constructor
        this.parent(); // Call parent constructor
    },

    method: function() {
        // Some method
        this.parent(); // Call parent method
    },

    'static': {
        staticMethod: function() {
            // Static method
        }
    }
});

// Creates a singleton/static class
tinymce.create('static tinymce.somepackage.SomeSingletonClass', {
    method: function() {
        // Some method
    }
});
----

==== Parameters

* `+s+` `+(String)+` - Class name, inheritance and prefix.
* `+p+` `+(Object)+` - Collection of methods to add to the class.
* `+root+` `+(Object)+` - Optional root object defaults to the global window object.

[[createeditor]]
=== createEditor

createEditor(id:String, settings:Object):tinymce.Editor

Creates an editor instance and adds it to the EditorManager collection.

==== Parameters

* `+id+` `+(String)+` - Instance id to use for editor.
* `+settings+` `+(Object)+` - Editor instance settings.

==== Return value

* link:{rootDir}api/tinymce/tinymce.editor.html[`+tinymce.Editor+`] - Editor instance that got created.

[[createns]]
=== createNS

createNS(n:String, o:Object):Object

Creates a namespace on a specific object.

==== Examples

[source,js]
----
// Create some namespace
tinymce.createNS('tinymce.somepackage.subpackage');

// Add a singleton
var tinymce.somepackage.subpackage.SomeSingleton = {
    method: function() {
        // Some method
    }
};
----

==== Parameters

* `+n+` `+(String)+` - Namespace to create for example a.b.c.d.
* `+o+` `+(Object)+` - Optional object to add namespace to, defaults to window.

==== Return value

* `+Object+` - New namespace object the last item in path.

[[each]]
=== each

each(o:Object, cb:function, s:Object)

Performs an iteration of all items in a collection such as an object or array. This method will execure the callback function for each item in the collection, if the callback returns false the iteration will terminate. The callback has the following format: cb(value, key_or_index).

==== Examples

[source,js]
----
// Iterate an array
tinymce.each([1,2,3], function(v, i) {
    console.debug("Value: " + v + ", Index: " + i);
});

// Iterate an object
tinymce.each({a: 1, b: 2, c: 3], function(v, k) {
    console.debug("Value: " + v + ", Key: " + k);
});
----

==== Parameters

* `+o+` `+(Object)+` - Collection to iterate.
* `+cb+` `+(function)+` - Callback function to execute for each item.
* `+s+` `+(Object)+` - Optional scope to execute the callback in.

[[execcommand]]
=== execCommand

execCommand(cmd:String, ui:Boolean, value:String):Boolean

Executes a specific command on the currently active editor.

==== Parameters

* `+cmd+` `+(String)+` - Command to perform for example Bold.
* `+ui+` `+(Boolean)+` - Optional boolean state if a UI should be presented for the command or not.
* `+value+` `+(String)+` - Optional value parameter like for example an URL to a link.

==== Return value

* `+Boolean+` - true/false if the command was executed or not.

[[explode]]
=== explode

explode(s:string, d:string)

Splits a string but removes the whitespace before and after each value.

==== Examples

[source,js]
----
// Split a string into an array with a,b,c
var arr = tinymce.explode('a, b,   c');
----

==== Parameters

* `+s+` `+(string)+` - String to split.
* `+d+` `+(string)+` - Delimiter to split by.

[[fire]]
=== fire

fire(name:String, args:Object?, bubble:Boolean?):Object

Fires the specified event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Examples

[source,js]
----
instance.fire('event', {...});
----

==== Parameters

* `+name+` `+(String)+` - Name of the event to fire.
* `+args+` `+(Object?)+` - Event arguments.
* `+bubble+` `+(Boolean?)+` - True/false if the event is to be bubbled.

==== Return value

* `+Object+` - Event args instance passed in.

[[get]]
=== get

get(id:String):tinymce.Editor, Array

Returns a editor instance by id.

==== Examples

[source,js]
----
// Adds an onclick event to an editor by id
tinymce.get('mytextbox').on('click', function(e) {
   ed.windowManager.alert('Hello world!');
});

// Adds an onclick event to an editor by index
tinymce.get(0).on('click', function(e) {
   ed.windowManager.alert('Hello world!');
});

// Adds an onclick event to an editor by id (longer version)
tinymce.EditorManager.get('mytextbox').on('click', function(e) {
   ed.windowManager.alert('Hello world!');
});
----

==== Parameters

* `+id+` `+(String)+` - Editor instance id or index to return.

==== Return value

* link:{rootDir}api/tinymce/tinymce.editor.html[`+tinymce.Editor+`] - Editor instance to return or array of editor instances.
* `+Array+` - Editor instance to return or array of editor instances.

[[grep]]
=== grep

grep(a:Array, f:function):Array

Filters out items from the input array by calling the specified function for each item. If the function returns false the item will be excluded if it returns true it will be included.

==== Examples

[source,js]
----
// Filter out some items, this will return an array with 4 and 5
var items = tinymce.grep([1,2,3,4,5], function(v) {return v > 3;});
----

==== Parameters

* `+a+` `+(Array)+` - Array of items to loop though.
* `+f+` `+(function)+` - Function to call for each item. Include/exclude depends on it's return value.

==== Return value

* `+Array+` - New array with values imported and filtered based in input.

[[haseventlisteners]]
=== hasEventListeners

hasEventListeners(name:String):Boolean

Returns true/false if the object has a event of the specified name.

==== Parameters

* `+name+` `+(String)+` - Name of the event to check for.

==== Return value

* `+Boolean+` - true/false if the event exists or not.

[[inarray]]
=== inArray

inArray(item:any, arr:Array):Number

Returns an index of the item or -1 if item is not present in the array.

==== Parameters

* `+item+` `+(any)+` - Item to search for.
* `+arr+` `+(Array)+` - Array to search in.

==== Return value

* `+Number+` - index of the item or -1 if item was not found.

[[init]]
=== init

init(settings:Object):tinymce.util.Promise

Initializes a set of editors. This method will create editors based on various settings.

==== Examples

[source,js]
----
// Initializes a editor using the longer method
tinymce.EditorManager.init({
   some_settings : 'some value'
});

// Initializes a editor instance using the shorter version and with a promise
tinymce.init({
   some_settings : 'some value'
}).then(function(editors) {
   ...
});
----

==== Parameters

* `+settings+` `+(Object)+` - Settings object to be passed to each editor instance.

==== Return value

* link:{rootDir}api/tinymce.util/tinymce.util.promise.html[`+tinymce.util.Promise+`] - Promise that gets resolved with an array of editors when all editor instances are initialized.

[[is]]
=== is

is(obj:Object, type:string):Boolean

Checks if a object is of a specific type for example an array.

==== Parameters

* `+obj+` `+(Object)+` - Object to check type of.
* `+type+` `+(string)+` - Optional type to check for.

==== Return value

* `+Boolean+` - true/false if the object is of the specified type.

[[isarray]]
=== isArray

isArray(obj:Object):boolean

Returns true/false if the object is an array or not.

==== Parameters

* `+obj+` `+(Object)+` - Object to check.

==== Return value

* `+boolean+` - true/false state if the object is an array or not.

[[makemap]]
=== makeMap

makeMap(items:Array, delim:String, map:Object):Object

Makes a name/object map out of an array with names.

==== Parameters

* `+items+` `+(Array)+` - Items to make map out of.
* `+delim+` `+(String)+` - Optional delimiter to split string by.
* `+map+` `+(Object)+` - Optional map to add items to.

==== Return value

* `+Object+` - Name/value map of items.

[[map]]
=== map

map(array:Array, callback:function):Array

Creates a new array by the return value of each iteration function call. This enables you to convert one array list into another.

==== Parameters

* `+array+` `+(Array)+` - Array of items to iterate.
* `+callback+` `+(function)+` - Function to call for each item. It's return value will be the new value.

==== Return value

* `+Array+` - Array with new values based on function return values.

[[off]]
=== off

off(name:String?, callback:callback?):Object

Unbinds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Examples

[source,js]
----
// Unbind specific callback
instance.off('event', handler);

// Unbind all listeners by name
instance.off('event');

// Unbind all events
instance.off();
----

==== Parameters

* `+name+` `+(String?)+` - Name of the event to unbind.
* `+callback+` `+(callback?)+` - Callback to unbind.

==== Return value

* `+Object+` - Current class instance.

[[on]]
=== on

on(name:String, callback:callback, first:Boolean):Object

Binds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Examples

[source,js]
----
instance.on('event', function(e) {
    // Callback logic
});
----

==== Parameters

* `+name+` `+(String)+` - Event name or space separated list of events to bind.
* `+callback+` `+(callback)+` - Callback to be executed when the event occurs.
* `+first+` `+(Boolean)+` - Optional flag if the event should be prepended. Use this with care.

==== Return value

* `+Object+` - Current class instance.

[[once]]
=== once

once(name:String, callback:callback):Object

Bind the event callback and once it fires the callback is removed. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Parameters

* `+name+` `+(String)+` - Name of the event to bind.
* `+callback+` `+(callback)+` - Callback to bind only once.

==== Return value

* `+Object+` - Current class instance.

[[overridedefaults]]
=== overrideDefaults

overrideDefaults(defaultSettings:Object)

Overrides the default settings for editor instances.

==== Parameters

* `+defaultSettings+` `+(Object)+` - Defaults settings object.

[[remove]]
=== remove

remove(selector:tinymce.Editor):tinymce.Editor

Removes a editor or editors form page.

==== Examples

[source,js]
----
// Remove all editors bound to divs
tinymce.remove('div');

// Remove all editors bound to textareas
tinymce.remove('textarea');

// Remove all editors
tinymce.remove();

// Remove specific instance by id
tinymce.remove('#id');
----

==== Parameters

* `+selector+` link:{rootDir}api/tinymce/tinymce.editor.html[`+(tinymce.Editor)+`] - CSS selector or editor instance to remove.

==== Return value

* link:{rootDir}api/tinymce/tinymce.editor.html[`+tinymce.Editor+`] - The editor that got passed in will be return if it was found otherwise null.

[[resolve]]
=== resolve

resolve(n:String, o:Object):Object

Resolves a string and returns the object from a specific structure.

==== Examples

[source,js]
----
// Resolve a path into an object reference
var obj = tinymce.resolve('a.b.c.d');
----

==== Parameters

* `+n+` `+(String)+` - Path to resolve for example a.b.c.d.
* `+o+` `+(Object)+` - Optional object to search though, defaults to window.

==== Return value

* `+Object+` - Last object in path or null if it couldn't be resolved.

[[setactive]]
=== setActive

setActive(editor:tinymce.Editor)

Sets the active editor instance and fires the deactivate/activate events.

==== Parameters

* `+editor+` link:{rootDir}api/tinymce/tinymce.editor.html[`+(tinymce.Editor)+`] - Editor instance to set as the active instance.

[[toarray]]
=== toArray

toArray(obj:Object):Array

Converts the specified object into a real JavaScript array.

==== Parameters

* `+obj+` `+(Object)+` - Object to convert into array.

==== Return value

* `+Array+` - Array object based in input.

[[translate]]
=== translate

translate(text:String):String

Translates the specified string using the language pack items.

==== Parameters

* `+text+` `+(String)+` - String to translate

==== Return value

* `+String+` - Translated string.

[[triggersave]]
=== triggerSave

triggerSave()

Calls the save method on all editor instances in the collection. This can be useful when a form is to be submitted.

==== Examples

[source,js]
----
// Saves all contents
tinyMCE.triggerSave();
----

[[trim]]
=== trim

trim(s:String):String

Removes whitespace from the beginning and end of a string.

==== Parameters

* `+s+` `+(String)+` - String to remove whitespace from.

==== Return value

* `+String+` - New string with removed whitespace.

[[walk]]
=== walk

walk(o:Object, f:function, n:String, s:String)

Executed the specified function for each item in a object tree.

==== Parameters

* `+o+` `+(Object)+` - Object tree to walk though.
* `+f+` `+(function)+` - Function to call for each item.
* `+n+` `+(String)+` - Optional name of collection inside the objects to walk for example childNodes.
* `+s+` `+(String)+` - Optional scope to execute the function in.
