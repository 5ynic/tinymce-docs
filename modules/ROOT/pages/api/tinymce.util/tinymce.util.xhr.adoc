:rootDir: ./../../
:partialsDir: {rootDir}partials/
= tinymce.util.XHR

This class enables you to send XMLHTTPRequests cross browser.

[[examples]]
== Examples

[source,js]
----
// Sends a low level Ajax request
tinymce.util.XHR.send({
   url: 'someurl',
   success: function(text) {
      console.debug(text);
   }
});

// Add custom header to XHR request
tinymce.util.XHR.on('beforeSend', function(e) {
    e.xhr.setRequestHeader('X-Requested-With', 'Something');
});
----

[[methods]]
== Methods

[cols="1,3,1",options="header",]
|===
|name |summary |defined by
|link:#fire[fire()] |Fires the specified event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce.util/tinymce.util.observable.html[tinymce.util.Observable]
|link:#haseventlisteners[hasEventListeners()] |Returns true/false if the object has a event of the specified name. |link:{rootDir}api/tinymce.util/tinymce.util.observable.html[tinymce.util.Observable]
|link:#off[off()] |Unbinds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce.util/tinymce.util.observable.html[tinymce.util.Observable]
|link:#on[on()] |Binds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce.util/tinymce.util.observable.html[tinymce.util.Observable]
|link:#once[once()] |Bind the event callback and once it fires the callback is removed. Consult the link:/docs/advanced/events[event reference] for more details on each event. |link:{rootDir}api/tinymce.util/tinymce.util.observable.html[tinymce.util.Observable]
|link:#send[send()] |Sends a XMLHTTPRequest. Consult the Wiki for details on what settings this method takes. |link:{rootDir}api/tinymce.util/tinymce.util.xhr.html[tinymce.util.XHR]
|===

== Methods

[[fire]]
=== fire

fire(name:String, args:Object?, bubble:Boolean?):Object

Fires the specified event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event.

[[examples-fire]]
==== Examples

[source,js]
----
instance.fire('event', {...});
----

[[parameters]]
==== Parameters

* `+name+` `+(String)+` - Name of the event to fire.
* `+args+` `+(Object?)+` - Event arguments.
* `+bubble+` `+(Boolean?)+` - True/false if the event is to be bubbled.

[[return-value]]
==== Return value
anchor:returnvalue[historical anchor]

* `+Object+` - Event args instance passed in.

[[haseventlisteners]]
=== hasEventListeners

hasEventListeners(name:String):Boolean

Returns true/false if the object has a event of the specified name.

==== Parameters

* `+name+` `+(String)+` - Name of the event to check for.

==== Return value

* `+Boolean+` - true/false if the event exists or not.

[[off]]
=== off

off(name:String?, callback:callback?):Object

Unbinds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Examples

[source,js]
----
// Unbind specific callback
instance.off('event', handler);

// Unbind all listeners by name
instance.off('event');

// Unbind all events
instance.off();
----

==== Parameters

* `+name+` `+(String?)+` - Name of the event to unbind.
* `+callback+` `+(callback?)+` - Callback to unbind.

==== Return value

* `+Object+` - Current class instance.

[[on]]
=== on

on(name:String, callback:callback, first:Boolean):Object

Binds an event listener to a specific event by name. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Examples

[source,js]
----
instance.on('event', function(e) {
    // Callback logic
});
----

==== Parameters

* `+name+` `+(String)+` - Event name or space separated list of events to bind.
* `+callback+` `+(callback)+` - Callback to be executed when the event occurs.
* `+first+` `+(Boolean)+` - Optional flag if the event should be prepended. Use this with care.

==== Return value

* `+Object+` - Current class instance.

[[once]]
=== once

once(name:String, callback:callback):Object

Bind the event callback and once it fires the callback is removed. Consult the link:/docs/advanced/events[event reference] for more details on each event.

==== Parameters

* `+name+` `+(String)+` - Name of the event to bind.
* `+callback+` `+(callback)+` - Callback to bind only once.

==== Return value

* `+Object+` - Current class instance.

[[send]]
=== send

send(settings:Object)

Sends a XMLHTTPRequest. Consult the Wiki for details on what settings this method takes.

==== Parameters

* `+settings+` `+(Object)+` - Object will target URL, callbacks and other info needed to make the request.
