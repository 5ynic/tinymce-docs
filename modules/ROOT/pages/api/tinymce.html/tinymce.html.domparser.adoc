= tinymce.html.DomParser

This class parses HTML code into a DOM like structure of nodes it will remove redundant whitespace and make sure that the node tree is valid according to the specified schema. So for example: <p>a<p>b</p>c</p> will become <p>a</p><p>b</p><p>c</p>

[[examples]]
== Examples

[source,prettyprint]
----
var parser = new tinymce.html.DomParser({validate: true}, schema);
var rootNode = parser.parse('<h1>content</h1>');
----

[[methods]]
== Methods

[cols=",,",options="header",]
|===
|name |summary |defined by
|link:#addattributefilter[addAttributeFilter()] |Adds a attribute filter function to the parser, the parser will collect nodes that has the specified attributes and then execute the callback once it has finished parsing the document. |link:{baseurl}/api/tinymce.html/tinymce.html.domparser.html[tinymce.html.DomParser]
|link:#addnodefilter[addNodeFilter()] |Adds a node filter function to the parser, the parser will collect the specified nodes by name and then execute the callback once it has finished parsing the document. |link:{baseurl}/api/tinymce.html/tinymce.html.domparser.html[tinymce.html.DomParser]
|link:#filternode[filterNode()] |Runs the specified node though the element and attributes filters. |link:{baseurl}/api/tinymce.html/tinymce.html.domparser.html[tinymce.html.DomParser]
|link:#parse[parse()] |Parses the specified HTML string into a DOM like node tree and returns the result. |link:{baseurl}/api/tinymce.html/tinymce.html.domparser.html[tinymce.html.DomParser]
|===

== Methods

[[addattributefilter]]
=== addAttributeFilter

addAttributeFilter(callback:function)

Adds a attribute filter function to the parser, the parser will collect nodes that has the specified attributes and then execute the callback once it has finished parsing the document.

[[examples]]
==== Examples

[source,prettyprint]
----
parser.addAttributeFilter('src,href', function(nodes, name) {
 for (var i = 0; i < nodes.length; i++) {
  console.log(nodes[i].name);
 }
});
----

[[parameters]]
==== Parameters

* [.param-name]#callback# [.param-type]#(function)# - Callback function to execute once it has collected nodes.

[[addnodefilter]]
=== addNodeFilter

addNodeFilter(callback:function)

Adds a node filter function to the parser, the parser will collect the specified nodes by name and then execute the callback once it has finished parsing the document.

==== Examples

[source,prettyprint]
----
parser.addNodeFilter('p,h1', function(nodes, name) {
 for (var i = 0; i < nodes.length; i++) {
  console.log(nodes[i].name);
 }
});
----

==== Parameters

* [.param-name]#callback# [.param-type]#(function)# - Callback function to execute once it has collected nodes.

[[filternode]]
=== filterNode

filterNode(Node:tinymce.html.Node):tinymce.html.Node

Runs the specified node though the element and attributes filters.

==== Parameters

* [.param-name]#Node# link:{baseurl}/api/tinymce.html/tinymce.html.node.html[[.param-type]#(tinymce.html.Node)#] - the node to run filters on.

[[return-value]]
==== Return value
anchor:returnvalue[historical anchor]

* link:{baseurl}/api/tinymce.html/tinymce.html.node.html[[.return-type]#tinymce.html.Node#] - The passed in node.

[[parse]]
=== parse

parse(html:String, args:Object):tinymce.html.Node

Parses the specified HTML string into a DOM like node tree and returns the result.

==== Examples

[source,prettyprint]
----
var rootNode = new DomParser({...}).parse('<b>text</b>');
----

==== Parameters

* [.param-name]#html# [.param-type]#(String)# - Html string to sax parse.
* [.param-name]#args# [.param-type]#(Object)# - Optional args object that gets passed to all filter functions.

==== Return value

* link:{baseurl}/api/tinymce.html/tinymce.html.node.html[[.return-type]#tinymce.html.Node#] - Root node containing the tree.
